<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">

	<ui:composition template="/WEB-INF/template.xhtml">
		<ui:define name="title">Add New Item</ui:define>
		
		<ui:define name="content">
			
			<h:form styleClass="mt-4">
				
				<div class="form-group row">
					<h:outputLabel styleClass="col-2" value="Category" />
					<h:selectOneMenu id="category" value="#{itemEditBean.item.category}" converter="#{categoryConverter}" styleClass="custom-select col-3">
						<f:selectItems value="#{categories}" var="c" itemValue="#{c}" itemLabel="#{c.name}"></f:selectItems>
					</h:selectOneMenu>
				</div>
				
				<div class="form-group row">
					<h:outputLabel value="Name" styleClass="col-2" />
					<h:inputText id="name" value="#{itemEditBean.item.name}" styleClass="form-control col-3" />
				</div>
				
				<div class="form-group row">
					<h:outputLabel value="Price" styleClass="col-2" />
					<h:inputText id="price" value="#{itemEditBean.item.price}" styleClass="form-control col-3" />
				</div>
				
				<div class="form-group row">
					<h:outputLabel value="Tags" styleClass="col-2" />
					<ui:repeat var="t" value="#{itemEditBean.tags}">
						<h:inputText id="tag" value="#{t.value}" styleClass="form-control col-2 mr-2" />
					</ui:repeat>
					
					<div class="col-2">
						<h:commandLink styleClass="btn btn-outline-primary mr-1" actionListener="#{itemEditBean.addTag()}">
							<i class="fa fa-plus"></i>
							<f:ajax execute="@form" render="@form"></f:ajax>
						</h:commandLink>
						<h:commandLink styleClass="btn btn-outline-danger" actionListener="#{itemEditBean.removeTag()}">
							<i class="fa fa-minus"></i>
							<f:ajax execute="@form" render="@form"></f:ajax>
						</h:commandLink>
					</div>
					
					
				</div>

				<div class="form-group row">
					<h:commandLink action="#{itemEditBean.save()}" styleClass="btn btn-dark offset-2">
						<i class="fa fa-save"></i> Save
					</h:commandLink>
				</div>
				
			</h:form>
			
		</ui:define>
	</ui:composition>
</html>